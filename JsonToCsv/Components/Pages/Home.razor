@page "/"

@inject JsonToCsvConverterService JsonToCsvConverterService

<PageTitle>Home</PageTitle>

<MudTextField @ref="jsonTextField"
              T="string"
              Label="JSON"
              Lines="3"
              Variant="Variant.Outlined" />

<MudTextField @ref="csvTextField"
              T="string"
              Label="CSV"
              Lines="3"
              Variant="Variant.Outlined" />

<MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="@ConvertToCsvAsync">Convert</MudButton>

@code
{
    private MudTextField<string> jsonTextField;
    private MudTextField<string> csvTextField;

    private async Task ConvertToCsvAsync() => await csvTextField.SetText(JsonToCsvConverterService.Convert(jsonTextField.Text));
}